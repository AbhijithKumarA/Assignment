<h2>Create Account</h2>

<div class="col-lg-5">
  <form [formGroup]="service.formModel" autocomplete="off" (submit)="onSubmit()">

    <div class="form-group">
        <label for="firstName">First Name</label>
        <input class="form-control" formControlName="FirstName" id="firstName" type="text" required />
        <div class="alert alert-danger" *ngIf="service.formModel.get('FirstName')?.touched && service.formModel.get('FirstName')?.errors?.required">First Name is required!</div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input
        class="form-control"
        formControlName="LastName"
        id="lastName"
        type="text"
        required
      />
      <div class="alert alert-danger" *ngIf="service.formModel.get('LastName')?.touched && service.formModel.get('LastName')?.errors?.required">Last Name is required!</div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        class="form-control"
        formControlName="Email"
        id="email"
        type="email"
        required
      />
      <div>
      <div class="alert alert-danger" *ngIf="service.formModel.get('Email')?.touched && service.formModel.get('Email')?.errors?.required">Email is required!</div>
      <div class="alert alert-danger" *ngIf="service.formModel.get('Email')?.touched && service.formModel.get('Email')?.errors?.email">Invalid email address!</div>
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Phone</label>
      <input
        class="form-control"
        formControlName="Phone"
        id="phone"
        type="tel"
        pattern="[0-9]{10}"
        required
      />
      <div>
        <div class="alert alert-danger" *ngIf="service.formModel.get('Phone')?.touched && service.formModel.get('Phone')?.errors?.required">Phone number is required!</div>
        <div class="alert alert-danger" *ngIf="service.formModel.get('Phone')?.touched && service.formModel.get('Phone')?.errors?.pattern">Invalid phone number!</div>
        </div>
    </div>

    <div class="form-group">
      <label for="userName">Username</label>
      <input
        class="form-control"
        formControlName="UserName"
        id="userName"
        type="text"
        required
      />
      <div class="alert alert-danger" *ngIf="service.formModel.get('UserName')?.touched && service.formModel.get('UserName')?.errors?.required">Username is required!</div>
    </div>

    <div formGroupName="Passwords">
        <div class="form-group">
        <label for="password">Password</label>
        <input
            class="form-control"
            formControlName="Password"
            id="password"
            type="password"
            minlength="8"
            required
        />
        <div>
            <div class="alert alert-danger" *ngIf="service.formModel.get('Passwords.Password')?.touched && service.formModel.get('Passwords.Password')?.errors?.required">Password is required!</div>
            <div class="alert alert-danger" *ngIf="service.formModel.get('Passwords.Password')?.errors?.minlength">Passwords must be atleast 8 characters!</div>
        </div>
        <small
            ><strong class="info">&#8520;</strong> Passwords must be atleast 8
            characters.</small
        >
        </div>

        <div class="form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input
            class="form-control"
            formControlName="ConfirmPassword"
            id="confirmPassword"
            type="password"
            required
        />
    <div>
        <div class="alert alert-danger" 
        *ngIf="service.formModel.get('Passwords.ConfirmPassword')?.touched && service.formModel.get('Passwords.ConfirmPassword')?.errors?.required">Confirm Password is required!</div>
        </div>
        <div class="alert alert-danger" 
        *ngIf="service.formModel.get('Passwords.ConfirmPassword')?.errors?.passwordMismatch">Passwords does not match!</div>
        </div>
    </div>

    <div class="text-right">
      <button class="btn btn-secondary mr-3" routerLink="/">Cancel</button>
      <button
        class="btn btn-primary"
        type="submit"
        [disabled]="!service.formModel.valid"
      >
        Sign up
      </button>
    </div>
  </form>

  <hr />

  <h6>Already have an account? <a routerLink="/login">Sign in</a></h6>
</div>
